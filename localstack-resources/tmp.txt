aws --endpoint-url=http://localhost:4566 sqs create-queue --queue-name customer-info-queue
aws --endpoint-url=http://localhost:4566 sqs send-message --queue-url http://localhost:4566/000000000000/customer-info-queue --message-body '{
  "name": "Yamada Tarou",
  "address": "東京都足立区1-1-1",
  "age": 30,
  "join_date": "2024-01-01",
  "gender": "Male",
  "occupation": "Software Engineer"
}'

aws --endpoint-url=http://localhost:4566 sqs receive-message --queue-url http://localhost:4566/000000000000/customer-info-queue --max-number-of-messages 5 --wait-time-seconds 5


# vs code setting backup
"java.jdt.ls.java.home": "/Library/Java/JavaVirtualMachines/jdk-21.jdk/Contents/Home",
"java.import.gradle.home": "/Library/Java/JavaVirtualMachines/jdk-21.jdk/Contents/Home",
"java.autobuild.enabled": true

spring.application.name=springlocalstack

spring.devtools.livereload.enabled=true

spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=test
spring.datasource.password=test
spring.h2.console.enabled=true

curl -X POST http://localhost:8080/customer/post

#RUN apt-get update && \
#    apt-get install -y wget unzip && \
#    wget https://services.gradle.org/distributions/gradle-8.0-bin.zip -P /tmp && \
#    unzip /tmp/gradle-8.0-bin.zip -d /opt && \
#    rm /tmp/gradle-8.0-bin.zip && \
 #   ln -s /opt/gradle-8.0/bin/gradle /usr/local/bin/gradle

 #CMD ["./gradlew", "bootRun"]

aws lambda create-function --endpoint-url http://localhost:4566 --function-name test --runtime python3.11 --zip-file fileb:///var/localstack/lambda/test.zip --handler main.lambda_handler --role arn:aws:iam::000000000000:role/lambda-role --timeout 30

aws lambda invoke --function-name test --payload '{"target_name": "Yamada Tarou"}' /dev/stdout --endpoint-url=http://localhost:4566

aws lambda update-function-code --function-name test --zip-file fileb:///var/localstack/lambda/test.zip --endpoint-url=http://localhost:4566

aws stepfunctions create-state-machine --name SampleStateMachine --definition file:///var/localstack/stepfunctions/demo-stepfunction.json --role-arn arn:aws:iam::000000000000:role/DummyRole --endpoint-url=http://localhost:4566

aws stepfunctions update-state-machine --state-machine-arn arn:aws:states:ap-northeast-1:000000000000:stateMachine:SampleStateMachine --definition file:///var/localstack/stepfunctions/demo-stepfunction.json --endpoint-url=http://localhost:4566

aws stepfunctions start-execution --state-machine-arn arn:aws:states:ap-northeast-1:000000000000:stateMachine:SampleStateMachine --input '{"name": "Yamada Tarou"}' --endpoint-url=http://localhost:4566 --name execution02

aws stepfunctions describe-execution --execution-arn arn:aws:states:ap-northeast-1:000000000000:execution:SampleStateMachine:execution02 --endpoint-url=http://localhost:4566

aws --endpoint-url=http://localhost:4566 logs describe-log-streams --log-group-name /aws/lambda/test

aws --endpoint-url=http://localhost:4566 stepfunctions get-execution-history --execution-arn arn:aws:states:ap-northeast-1:000000000000:execution:SampleStateMachine:exe4
